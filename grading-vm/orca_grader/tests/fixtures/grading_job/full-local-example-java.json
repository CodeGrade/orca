{
  "key": "{ \"grade_id\": 123 }",
  "files": {
    "submission": {
      "url": "http://simple-server:9000/java-example/example-homework.tgz",
      "mime_type": "application/x-gtar",
      "should_replace_paths": false
    },
    "starter": {
      "url": "http://simple-server:9000/java-example/example-starter.zip",
      "mime_type": "application/zip",
      "should_replace_paths": false
    },
    "testing": {
      "url": "http://simple-server:9000/java-example/example-tests.zip",
      "mime_type": "application/zip",
      "should_replace_paths": false
    },
    "junit-jar": {
      "url": "http://simple-server:9000/java-example/junit-4.13.2.jar",
      "mime_type": "application/zip",
      "should_replace_paths": false
    },
    "hamcrest-jar": {
      "url": "http://simple-server:9000/java-example/hamcrest-core-1.3.jar",
      "mime_type": "application/zip",
      "should_replace_paths": false
    },
    "junit-tap-jar": {
      "url": "http://simple-server:9000/java-example/junit-tap.jar",
      "mime_type": "application/zip",
      "should_replace_paths": false
    },
    "annotations-jar": {
      "url": "http://simple-server:9000/java-example/annotations.jar",
      "mime_type": "application/zip",
      "should_replace_paths": false
    }
  },
  "script": [
    {
      "cmd": ["echo", "This is a sanity test."],
      "on_complete": 1,
      "on_fail": "abort"
    },
    {
      "condition": {
        "predicate": "dir",
        "path": "$EXTRACTED/starter/"
      },
      "on_true": 2,
      "on_false": 3
    },
    {
      "cmd": "cp -r $EXTRACTED/starter/* $BUILD/",
      "on_complete": 3,
      "on_fail": "abort"
    },
    {
      "cmd": "cp -r $EXTRACTED/submission/* $BUILD/",
      "on_complete": 4,
      "on_fail": "abort"
    },
    {
      "cmd": "cp -r $EXTRACTED/junit-jar/* $BUILD/",
      "on_complete": 5,
      "on_fail": "abort"
    },
    {
      "cmd": "cp -r $EXTRACTED/hamcrest-jar/* $BUILD/",
      "on_complete": 6,
      "on_fail": "abort"
    },
    {
      "cmd": "cp -r $EXTRACTED/junit-tap-jar/* $BUILD/",
      "on_complete": 7,
      "on_fail": "abort"
    },
    {
      "cmd": "cp -r $EXTRACTED/annotations-jar/* $BUILD/",
      "on_complete": 8,
      "on_fail": "abort"
    },
    {
      "condition": {
        "predicate": "dir",
        "path": "$EXTRACTED/testing/"
      },
      "on_true": 9,
      "on_false": 10
    },
    {
      "cmd": "cp -r $EXTRACTED/testing/* $BUILD/",
      "on_complete": 10,
      "on_fail": "abort"
    },
    {
      "cmd": "find $BUILD -type f -name *.java > compile-list.txt",
      "on_complete": 11,
      "on_fail": "abort"
    },
    {
      "cmd": ["cat", "compile-list.txt"],
      "on_complete": 12,
      "on_fail": "abort"
    },
    {
      "cmd": "find $BUILD -type f -name *.class",
      "on_complete": 13,
      "on_fail": "abort"
    },
    {
      "cmd": [
        "javac",
        "-verbose",
        "-cp",
        "$BUILD/junit-4.13.2.jar:$BUILD/junit-tap/junit-tap.jar:$BUILD/hamcrest-core-1.3.jar:$BUILD/annotations.jar:$BUILD:$BUILD/*",
        "@compile-list.txt"
      ],
      "on_complete": 14,
      "on_fail": "abort"
    },
    {
      "cmd": [
        "javac",
        "-verbose",
        "-cp",
        "$BUILD/junit-4.13.2.jar:$BUILD/junit-tap/junit-tap.jar:$BUILD/hamcrest-core-1.3.jar:$BUILD/annotations.jar:$BUILD:$BUILD/*",
        "@compile-list.txt"
      ],
      "on_complete": 15,
      "on_fail": "abort"
    },
    {
      "cmd": "find $BUILD -type f -name *.class",
      "on_complete": 16,
      "on_fail": "abort"
    },
    {
      "cmd": [
        "java",
        "-cp",
        "$BUILD/junit-4.13.2.jar:$BUILD/junit-tap.jar:$BUILD/hamcrest-core-1.3.jar:$BUILD/annotations.jar:$BUILD/:$BUILD/*",
        "edu.neu.TAPRunner",
        "EuropeanSolitaireModelTest",
        "-weight",
        "1",
        "TriangleSolitaireModelTest",
        "-weight",
        "1",
        "TriangleSolitaireTextViewTest",
        "-weight",
        "1",
        "EnglishSolitaireControllerTest",
        "-weight",
        "0.3",
        "EnglishSolitaireModelTests",
        "-weight",
        "0.1",
        "MarbleSolitaireTextViewTests",
        "-weight",
        "0.1",
        "-timeout",
        "10000"
      ],
      "on_complete": "output",
      "on_fail": "abort"
    }
  ],
  "grader_image_sha": "orca-java-grader",
  "priority": 0,
  "response_url": ""
}
